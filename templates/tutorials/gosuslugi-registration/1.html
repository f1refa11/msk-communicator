<div class="gosu-sim-root">
  <style>
@import url("/tutorials-assets/gosuslugi-registration/static/gosuslugi-course-styles.css");

.gosu-sim-root {
    margin: 0;
    padding: 24px;
    display: flex;
    justify-content: center;
    align-items: flex-start;
}

.gosu-sim {
    width: min(1100px, 100%);
    min-height: 0;
}

.gosu-sim .course-container {
    max-width: 1100px;
}

.gosu-sim .course-navigation {
    flex-wrap: wrap;
}

.gosu-sim .nav-button,
.gosu-sim .btn-primary,
.gosu-sim .btn-secondary,
.gosu-sim .btn-link,
.gosu-sim .download-btn,
.gosu-sim button {
    width: 100%;
    max-width: 100%;
    white-space: normal;
    word-break: break-word;
}

.gosu-sim input,
.gosu-sim select,
.gosu-sim textarea {
    max-width: 100%;
}

.gosu-sim .phone-mockup {
    width: min(100%, 720px);
}

.gosu-sim .phone-screen {
    height: min(85vh, 680px);
    min-height: 0;
}

@media (max-width: 720px) {
    .gosu-sim-root {
        padding: 16px;
    }

    .gosu-sim .course-header {
        padding: 3vh 4vw;
        border-width: 0.4vw;
    }

    .gosu-sim .step-card:not(.step-card-split) {
        padding: 2.5vh 4vw;
    }

    .gosu-sim .phone-screen {
        height: auto;
    }

    .gosu-sim .page-content {
        padding: 3vh 5vw;
        overflow: visible;
    }

    .gosu-sim .course-navigation {
        gap: 12px;
    }

    .gosu-sim .nav-button {
        width: 100%;
    }
}
  </style>
  <div class="gosu-sim">
<style>
        /* –ò–º–∏—Ç–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ */
        .gosu-sim .phone-mockup{border:2px solid #111;border-radius:3.2vw;position:relative;overflow:hidden}
        .gosu-sim .phone-screen{background:#fff;border-radius:2.5vw;overflow:hidden;height:85vh;min-height:700px;display:flex;flex-direction:column}
        
        /* Browser Bar */
        .browser-bar{background:#f5f5f5;padding:0.5vh 1.6vw;border-bottom:0.2vw solid #e0e0e0;display:flex;align-items:center;gap:2vw;font-size:clamp(0.85rem,1.6vw,1.3rem);color:#666}
        .browser-icon{font-size:clamp(1rem,1.9vw,1.6rem)}
        .browser-url{flex:1;min-width:0;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
        
        /* Main Content */
        .page-content{flex:1;overflow-y:auto;background:#fff;padding:1vh 1vw}
        
        /* –ì–æ—Å—É—Å–ª—É–≥–∏ Logo */
        .gosuslugi-logo{text-align:center;margin-bottom:4vh}
        .gosu-sim .logo-text{font-size:clamp(2rem,4vw,3.5rem);font-weight:bold}
        .gosu-sim .logo-gos{color:#0063B0}
        .gosu-sim .logo-uslugi{color:#E31E24}
        
        /* Page Title */
        .gosu-sim .page-title{font-size:clamp(1.3rem,2.5vw,2.2rem);font-weight:bold;color:#000;text-align:center;margin-bottom:3vh}
        
        /* Description Text */
        .description-text{font-size:clamp(1rem,1.9vw,1.6rem);color:#666;text-align:center;margin-bottom:4vh;line-height:1.5}
        
        /* Buttons */
        .gosu-sim .btn-primary{width:100%;background:#0063B0;color:#fff;border:none;border-radius:0.8vw;padding:2.5vh;font-size:clamp(1.1rem,2.2vw,1.9rem);font-weight:600;cursor:pointer;transition:all 0.3s;margin-bottom:2vh;box-shadow:0 0.3vh 1vh rgba(0,99,176,0.3)}
        .gosu-sim .btn-primary:hover{background:#004d8c;transform:translateY(-0.2vh)}
        
        .gosu-sim .btn-secondary{width:100%;background:#fff;color:#0063B0;border:0.3vw solid #0063B0;border-radius:0.8vw;padding:2.5vh;font-size:clamp(1.1rem,2.2vw,1.9rem);font-weight:600;cursor:pointer;transition:all 0.3s;margin-bottom:2vh}
        .gosu-sim .btn-secondary:hover{background:#f0f7ff}
        
        .gosu-sim .btn-link{width:100%;background:none;color:#0063B0;border:none;padding:2vh;font-size:clamp(1.05rem,2vw,1.7rem);font-weight:500;cursor:pointer;text-decoration:none;display:block;text-align:center}
        .gosu-sim .btn-link:hover{text-decoration:underline}
        
        /* Form Fields */
        .form-field{margin-bottom:3vh}
        .form-label{display:block;font-size:clamp(1rem,1.9vw,1.6rem);color:#666;margin-bottom:1vh;font-weight:500}
        .form-input{width:100%;padding:2vh 2.5vw;border:0.2vw solid #B0BEC5;border-radius:0.8vw;font-size:clamp(1.05rem,2vw,1.7rem);background:#fff;transition:all 0.3s}
        .form-input:focus{outline:none;border-color:#0063B0;box-shadow:0 0 0 0.2vw rgba(0,99,176,0.15)}
        
        /* Captcha */
        .captcha-box{background:#B3E5FC;border-radius:1vw;padding:3vh;margin-bottom:2vh;text-align:center}
        .captcha-image{background:#B3E5FC;padding:3vh;border-radius:0.8vw;font-size:clamp(1.8rem,3.5vw,3rem);font-weight:bold;color:#0277BD;letter-spacing:1vw;font-family:monospace;margin-bottom:2vh}
        .captcha-actions{display:flex;gap:3vw;justify-content:center;font-size:clamp(0.95rem,1.8vw,1.5rem);color:#0063B0;margin-bottom:2vh}
        .captcha-link{cursor:pointer;font-weight:500;display:flex;align-items:center;gap:1vw}
        .captcha-link:hover{text-decoration:underline}
        
        /* Code Input */
        .code-label{font-size:clamp(1.05rem,2vw,1.7rem);color:#000;font-weight:500;margin-bottom:1vh}
        
        /* SMS Code Info */
        .sms-info{background:#E3F2FD;border-radius:1vw;padding:2.5vh;margin-bottom:3vh;font-size:clamp(1rem,1.9vw,1.6rem);color:#000;line-height:1.5}
        .timer{font-size:clamp(1.1rem,2.2vw,1.9rem);font-weight:bold;color:#000;text-align:center;margin:2vh 0}
        
        /* Password Field */
        .password-container{position:relative}
        .show-password{position:absolute;right:2.5vw;top:50%;transform:translateY(-50%);background:#FFC107;color:#000;border:none;padding:0.8vh 2vw;border-radius:0.5vw;font-size:clamp(0.9rem,1.7vw,1.4rem);font-weight:bold;cursor:pointer}
        
        /* Success Screen */
        .profile-header{background:#fff;border-bottom:0.2vw solid #e0e0e0;padding:3vh 4vw;display:flex;align-items:center;justify-content:space-between}
        .profile-avatar{width:8vh;height:8vh;background:#9C27B0;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:clamp(1.5rem,3vw,2.5rem);font-weight:bold}
        .profile-info{flex:1;padding:0 3vw}
        .profile-name{font-size:clamp(1.3rem,2.6vw,2.2rem);font-weight:bold;color:#000;margin-bottom:0.5vh}
        .profile-link{font-size:clamp(1rem,1.9vw,1.6rem);color:#0063B0}
        
        .notice-box{background:#FFF3E0;border-left:0.6vw solid #FF9800;padding:2.5vh 3vw;margin:3vh 4vw;font-size:clamp(1rem,1.9vw,1.6rem);color:#000;line-height:1.5}
        .notice-title{font-weight:bold;margin-bottom:1vh}
        
        .registration-options{padding:3vh 4vw}
        .option-item{background:#fff;border:0.2vw solid #e0e0e0;border-radius:1vw;padding:2.5vh 3vw;margin-bottom:2vh;cursor:pointer;transition:all 0.3s;display:flex;align-items:center;gap:2vw}
        .option-item:hover{border-color:#0063B0;box-shadow:0 0.5vh 1.5vh rgba(0,99,176,0.15)}
        .option-icon{font-size:clamp(2rem,4vw,3rem)}
        .option-text{flex:1;font-size:clamp(1.05rem,2vw,1.7rem);font-weight:500;color:#000}
        
        .task-hint{background:#ffd700;border:0.4vw solid #000;border-radius:1vw;padding:1vw;margin:2.5vh 0;font-size:clamp(1.1rem,2.2vw,1.9rem);color:#000;font-weight:bold;box-shadow:0 0.5vh 1.5vh rgba(0,0,0,0.3)}
        .task-hint strong{display:block;margin-bottom:1.5vh;font-size:clamp(1.3rem,2.5vw,2.2rem);letter-spacing:0.1vw}
    </style>
<div class="course-container">
        <div class="course-progress">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <p class="progress-text">–®–∞–≥ <span id="currentStep">1</span> –∏–∑ 7</p>
        </div>

        <div class="course-content">
            <!-- –®–∞–≥ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ -->
            <div class="step-card" id="step0" style="display:block;">
                <div class="step-number">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞</div>
                <h2 class="step-title">–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</h2>
                <p class="instruction-text"><strong>–í–ê–ñ–ù–û!</strong> –ü—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ:</p>
                <ul class="checklist">
                    <li class="checklist-item"><strong>–§–∞–º–∏–ª–∏—è –∏ –ò–º—è</strong> - –∫–∞–∫ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ</li>
                    <li class="checklist-item"><strong>–ú–æ–±–∏–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω</strong> - –¥–ª—è –°–ú–°-–∫–æ–¥–∞</li>
                    <li class="checklist-item"><strong>Email</strong> - —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞</li>
                </ul>
                <div class="info-box">
                    <p><strong>–í —ç—Ç–æ–º –∫—É—Ä—Å–µ –º—ã:</strong></p>
                    <p>1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º—Å—è –Ω–∞ –ì–æ—Å—É—Å–ª—É–≥–∞—Ö</p>
                    <p>2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω</p>
                    <p>3. –°–æ–∑–¥–∞–¥–∏–º –ø–∞—Ä–æ–ª—å</p>
                    <p>4. –í–æ–π–¥—ë–º –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</p>
                </div>
            </div>

            <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
            <div class="step-card" id="step1" style="display:none;">
                <div class="step-number">–®–∞–≥ 1</div>
                <h2 class="step-title">–°–ø–æ—Å–æ–± —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</h2>
                <p class="instruction-text">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</p>
                <div class="task-hint">
                    <strong>–ó–ê–î–ê–ù–ò–ï:</strong> –ù–∞–∂–º–∏—Ç–µ "–î—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏"
                </div>
                <div class="phone-mockup">
                    <div class="phone-screen">
                        <div class="browser-bar">
                            <span class="browser-icon">üè†</span>
                            <span class="browser-icon">üîí</span>
                            <span class="browser-url">esia.gosuslugi.ru/login/r</span>
                            <span class="browser-icon">‚ãÆ</span>
                        </div>
                        <div class="page-content">
                            <div class="gosuslugi-logo">
                                <div class="logo-text">
                                    <span class="logo-gos">–≥–æ—Å</span><span class="logo-uslugi">—É—Å–ª—É–≥–∏</span>
                                </div>
                            </div>
                            <div class="page-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</div>
                            <div class="description-text">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –æ–Ω–ª–∞–π–Ω —á–µ—Ä–µ–∑ –±–∞–Ω–∫<br>–∏–ª–∏ –ø–æ—Å–µ—Ç–∏–≤ —Ü–µ–Ω—Ç—Ä—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è</div>
                            <button class="btn-primary">–û–Ω–ª–∞–π–Ω —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–±–∞–Ω–∫</button>
                            <button class="btn-secondary">–ß–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è</button>
                            <button class="btn-link" id="otherWayBtn">–î—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</button>
                        </div>
                    </div>
                </div>
                <div class="info-box">
                    <p><strong>–°–ø–æ—Å–æ–±—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong></p>
                    <p>üè¶ –ß–µ—Ä–µ–∑ –±–∞–Ω–∫ - –±—ã—Å—Ç—Ä–æ, –µ—Å–ª–∏ –µ—Å—Ç—å –æ–Ω–ª–∞–π–Ω-–±–∞–Ω–∫</p>
                    <p>üè¢ –í —Ü–µ–Ω—Ç—Ä–µ - –Ω—É–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ –ª–∏—á–Ω–æ</p>
                    <p>üìù –î—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± - –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É –≤—Ä—É—á–Ω—É—é (–º—ã –≤—ã–±–∏—Ä–∞–µ–º —ç—Ç–æ—Ç)</p>
                </div>
            </div>

            <!-- –®–∞–≥ 2: –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
            <div class="step-card" id="step2" style="display:none;">
                <div class="step-number">–®–∞–≥ 2</div>
                <h2 class="step-title">–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ</h2>
                <p class="instruction-text">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</p>
                <div class="task-hint">
                    <strong>–ó–ê–î–ê–ù–ò–ï:</strong> –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"
                </div>
                <div class="phone-mockup">
                    <div class="phone-screen">
                        <div class="browser-bar">
                            <span class="browser-icon">‚Üê</span>
                            <span class="browser-icon">üîí</span>
                            <span class="browser-url">esia.gosuslugi.ru/login/r</span>
                            <span class="browser-icon">‚ãÆ</span>
                        </div>
                        <div class="page-content">
                            <div class="gosuslugi-logo">
                                <div class="logo-text">
                                    <span class="logo-gos">–≥–æ—Å</span><span class="logo-uslugi">—É—Å–ª—É–≥–∏</span>
                                </div>
                            </div>
                            <div class="page-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</div>
                            <div class="form-field">
                                <label class="form-label">–§–∞–º–∏–ª–∏—è</label>
                                <input type="text" class="form-input" id="lastName" placeholder="">
                            </div>
                            <div class="form-field">
                                <label class="form-label">–ò–º—è</label>
                                <input type="text" class="form-input" id="firstName" placeholder="">
                            </div>
                            <div class="form-field">
                                <label class="form-label">–ú–æ–±–∏–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω</label>
                                <input type="tel" class="form-input" id="phone" placeholder="">
                            </div>
                            <div class="form-field">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-input" id="email" placeholder="">
                            </div>
                            <button class="btn-primary" id="continueBtn1">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
                <div class="info-box">
                    <p><strong>–í–∞–∂–Ω–æ:</strong></p>
                    <p>‚úì –§–∞–º–∏–ª–∏—è –∏ –ò–º—è - –∫–∞–∫ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ</p>
                    <p>‚úì –¢–µ–ª–µ—Ñ–æ–Ω - –Ω–∞ –Ω–µ–≥–æ –ø—Ä–∏–¥—ë—Ç –°–ú–° —Å –∫–æ–¥–æ–º</p>
                    <p>‚úì Email - –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞</p>
                </div>
            </div>

            <!-- –®–∞–≥ 3: –ö–∞–ø—á–∞ -->
            <div class="step-card" id="step3" style="display:none;">
                <div class="step-number">–®–∞–≥ 3</div>
                <h2 class="step-title">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏</h2>
                <p class="instruction-text">–≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Ä–æ–±–æ—Ç–æ–≤</p>
                <div class="task-hint">
                    <strong>–ó–ê–î–ê–ù–ò–ï:</strong> –í–≤–µ–¥–∏—Ç–µ –ª—é–±—ã–µ —Ü–∏—Ñ—Ä—ã –∏ –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"
                </div>
                <div class="phone-mockup">
                    <div class="phone-screen">
                        <div class="browser-bar">
                            <span class="browser-icon">‚Üê</span>
                            <span class="browser-icon">üîí</span>
                            <span class="browser-url">esia.gosuslugi.ru/login/r</span>
                            <span class="browser-icon">‚ãÆ</span>
                        </div>
                        <div class="page-content">
                            <div class="gosuslugi-logo">
                                <div class="logo-text">
                                    <span class="logo-gos">–≥–æ—Å</span><span class="logo-uslugi">—É—Å–ª—É–≥–∏</span>
                                </div>
                            </div>
                            <div class="page-title">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏</div>
                            <div class="captcha-box">
                                <div class="captcha-image">i06W275</div>
                                <div class="captcha-actions">
                                    <span class="captcha-link">üîÑ –î—Ä—É–≥–æ–π –∫–æ–¥</span>
                                    <span class="captcha-link">‚ñ∂ –ü—Ä–æ—Å–ª—É—à–∞—Ç—å</span>
                                </div>
                            </div>
                            <div class="form-field">
                                <label class="code-label">–ö–æ–¥</label>
                                <input type="text" class="form-input" id="captchaCode" placeholder="">
                            </div>
                            <button class="btn-primary" id="continueBtn2">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
                <div class="info-box">
                    <p><strong>–ß—Ç–æ —ç—Ç–æ?</strong></p>
                    <p>–ö–∞–ø—á–∞ (–∫–æ–¥ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏) - –∑–∞—â–∏—Ç–∞ –æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</p>
                    <p>–ü—Ä–æ—Å—Ç–æ –≤–≤–µ–¥–∏—Ç–µ —Ü–∏—Ñ—Ä—ã –∏ –±—É–∫–≤—ã –∫–æ—Ç–æ—Ä—ã–µ –≤–∏–¥–∏—Ç–µ</p>
                    <p>–ï—Å–ª–∏ –Ω–µ –≤–∏–¥–Ω–æ - –Ω–∞–∂–º–∏—Ç–µ "–î—Ä—É–≥–æ–π –∫–æ–¥"</p>
                </div>
            </div>

            <!-- –®–∞–≥ 4: –°–ú–° –∫–æ–¥ -->
            <div class="step-card" id="step4" style="display:none;">
                <div class="step-number">–®–∞–≥ 4</div>
                <h2 class="step-title">–ö–æ–¥ –∏–∑ –°–ú–°</h2>
                <p class="instruction-text">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</p>
                <div class="task-hint">
                    <strong>–ó–ê–î–ê–ù–ò–ï:</strong> –í–≤–µ–¥–∏—Ç–µ –ª—é–±—ã–µ —Ü–∏—Ñ—Ä—ã –∏ –ø–æ–¥–æ–∂–¥–∏—Ç–µ
                </div>
                <div class="phone-mockup">
                    <div class="phone-screen">
                        <div class="browser-bar">
                            <span class="browser-icon">‚Üê</span>
                            <span class="browser-icon">üîí</span>
                            <span class="browser-url">esia.gosuslugi.ru/login/r</span>
                            <span class="browser-icon">‚ãÆ</span>
                        </div>
                        <div class="page-content">
                            <div class="gosuslugi-logo">
                                <div class="logo-text">
                                    <span class="logo-gos">–≥–æ—Å</span><span class="logo-uslugi">—É—Å–ª—É–≥–∏</span>
                                </div>
                            </div>
                            <div class="page-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</div>
                            <div class="sms-info">–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –Ω–æ–º–µ—Ä<br><strong id="smsTargetPhone">+7 (938) 000-00-00</strong></div>
                            <div class="form-field">
                                <label class="form-label">–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</label>
                                <input type="text" class="form-input" id="smsCode" placeholder="" maxlength="6">
                            </div>
                            <div class="timer">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ —á–µ—Ä–µ–∑<br>00:54</div>
                            <button class="btn-link">–ù–µ –º–æ–≥—É –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—Ö–æ–¥</button>
                            <button class="btn-link">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–æ –ø–æ—á—Ç–µ</button>
                        </div>
                    </div>
                </div>
                <div class="info-box">
                    <p><strong>–°–ú–° —Å –∫–æ–¥–æ–º:</strong></p>
                    <p>–ù–∞ –≤–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω –ø—Ä–∏–¥—ë—Ç –°–ú–° —Å 6-–∑–Ω–∞—á–Ω—ã–º –∫–æ–¥–æ–º</p>
                    <p>–í–≤–µ–¥–∏—Ç–µ –µ–≥–æ –≤ –ø–æ–ª–µ</p>
                    <p>–ö–æ–¥ –¥–µ–π—Å—Ç–≤—É–µ—Ç 10 –º–∏–Ω—É—Ç</p>
                </div>
            </div>

            <!-- –®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è -->
            <div class="step-card" id="step5" style="display:none;">
                <div class="step-number">–®–∞–≥ 5</div>
                <h2 class="step-title">–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å</h2>
                <p class="instruction-text">–ó–∞—â–∏—Ç–∏—Ç–µ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç</p>
                <div class="task-hint">
                    <strong>–ó–ê–î–ê–ù–ò–ï:</strong> –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–≤–∞ —Ä–∞–∑–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"
                </div>
                <div class="phone-mockup">
                    <div class="phone-screen">
                        <div class="browser-bar">
                            <span class="browser-icon">‚Üê</span>
                            <span class="browser-icon">üîí</span>
                            <span class="browser-url">esia.gosuslugi.ru/login/r</span>
                            <span class="browser-icon">‚ãÆ</span>
                        </div>
                        <div class="page-content">
                            <div class="gosuslugi-logo">
                                <div class="logo-text">
                                    <span class="logo-gos">–≥–æ—Å</span><span class="logo-uslugi">—É—Å–ª—É–≥–∏</span>
                                </div>
                            </div>
                            <div class="page-title">–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è</div>
                            <div class="description-text">–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª—å</div>
                            <div class="form-field">
                                <label class="form-label">–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                                <div class="password-container">
                                    <input type="password" class="form-input" id="password" placeholder="">
                                    <button class="show-password">–í–∑–≥–ª—è–Ω—É—Ç—å üëÅ</button>
                                </div>
                            </div>
                            <div class="form-field">
                                <label class="form-label">–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                                <input type="password" class="form-input" id="password2" placeholder="">
                            </div>
                            <button class="btn-primary" id="continueBtn3">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
                <div class="info-box">
                    <p><strong>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–∞—Ä–æ–ª—é:</strong></p>
                    <p>‚úì –ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤</p>
                    <p>‚úì –ó–∞–≥–ª–∞–≤–Ω—ã–µ –∏ —Å—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã</p>
                    <p>‚úì –¶–∏—Ñ—Ä—ã</p>
                    <p>‚úì –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã</p>
                </div>
            </div>

            <!-- –®–∞–≥ 6: –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
            <div class="step-card" id="step6" style="display:none;">
                <div class="step-number">–ì–æ—Ç–æ–≤–æ!</div>
                <h2 class="step-title">–í—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã!</h2>
                <p class="instruction-text">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –ì–æ—Å—É—Å–ª—É–≥–∏</p>
                <div class="phone-mockup">
                    <div class="phone-screen">
                        <div class="browser-bar">
                            <span class="browser-icon">üè†</span>
                            <span class="browser-icon">üîí</span>
                            <span class="browser-url">lk.gosuslugi.ru/settings/</span>
                            <span class="browser-icon">‚ãÆ</span>
                        </div>
                        <div class="page-content">
                            <div class="profile-header">
                                <div class="profile-avatar">–°–ê</div>
                                <div class="profile-info">
                                    <div class="profile-name">–°–∏–¥–æ—Ä–æ–≤ –ê—Ä—Ç–µ–º</div>
                                    <div class="profile-link">–ò–∑–º–µ–Ω–∏—Ç—å</div>
                                </div>
                                <span style="font-size:clamp(1.5rem,3vw,2.5rem)">‚ò∞</span>
                            </div>
                            <div class="notice-box">
                                <div class="notice-title">–£ –≤–∞—Å —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —É—á—ë—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å.</div>
                                <div>–î–æ—Å—Ç—É–ø –∫ –ì–æ—Å—É—Å–ª—É–≥–∞–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω</div>
                            </div>
                            <div class="registration-options">
                                <div style="font-size:clamp(1.1rem,2.2vw,1.9rem);font-weight:bold;margin-bottom:2vh">–ó–∞–≤–µ—Ä—à–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –æ–¥–Ω–∏–º –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤</div>
                                <div class="option-item">
                                    <span class="option-icon">‚úÖ</span>
                                    <div class="option-text">–û–Ω–ª–∞–π–Ω —á–µ—Ä–µ–∑ –±–∞–Ω–∫<br><span style="color:#4CAF50;font-weight:bold">–°–±–µ—Ä–ë–∞–Ω–∫</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="info-box">
                    <p><strong>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</strong></p>
                    <p>‚úì –í—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å –Ω–∞ –ì–æ—Å—É—Å–ª—É–≥–∞—Ö</p>
                    <p>‚úì –°–æ–∑–¥–∞–ª–∏ —É–ø—Ä–æ—â—ë–Ω–Ω—É—é —É—á—ë—Ç–Ω—É—é –∑–∞–ø–∏—Å—å</p>
                    <p>‚úì –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –Ω—É–∂–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –±–∞–Ω–∫ –∏–ª–∏ –ª–∏—á–Ω–æ</p>
                    <p>‚úì –ù–æ —É–∂–µ —Å–µ–π—á–∞—Å –º–æ–∂–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–Ω–æ–≥–∏–º–∏ —É—Å–ª—É–≥–∞–º–∏!</p>
                </div>
            </div>
        </div>

        <div class="course-navigation" id="courseNavigation">
            <button class="nav-button" id="prevBtn" onclick="changeStep(-1)">–ù–∞–∑–∞–¥</button>
            <button class="nav-button primary" id="nextBtn" onclick="changeStep(1)">–î–∞–ª–µ–µ</button>
        </div>
    </div>

    <script>
        let currentStep = 0;
        const totalSteps = 6;
        let taskCompleted = false;
        let registeredPhone = '+7 (938) 000-00-00';

        function formatRussianMobilePhone(rawPhone) {
            const digits = String(rawPhone || '').replace(/\D/g, '');
            let normalized = digits;

            if (normalized.length === 10) {
                normalized = `7${normalized}`;
            } else if (normalized.length === 11 && normalized.startsWith('8')) {
                normalized = `7${normalized.slice(1)}`;
            }

            const isValid =
                normalized.length === 11 &&
                normalized.startsWith('7') &&
                normalized.charAt(1) === '9';

            if (!isValid) {
                return '';
            }

            return `+7 (${normalized.slice(1, 4)}) ${normalized.slice(4, 7)}-${normalized.slice(7, 9)}-${normalized.slice(9, 11)}`;
        }

        function updateSmsTargetPhone(phoneText) {
            const phoneTarget = document.getElementById('smsTargetPhone');
            if (phoneTarget) {
                phoneTarget.textContent = phoneText;
            }
        }

        function prepareSplitStepLayout() {
            document.querySelectorAll('.step-card').forEach((stepCard) => {
                if (stepCard.classList.contains('step-card-split')) {
                    return;
                }

                const phoneMockup = Array.from(stepCard.children).find((child) =>
                    child.classList.contains('phone-mockup')
                );

                if (!phoneMockup) {
                    return;
                }

                const layout = document.createElement('div');
                layout.className = 'step-layout';

                const infoCard = document.createElement('div');
                infoCard.className = 'step-info-card';

                Array.from(stepCard.children).forEach((child) => {
                    if (child.classList.contains('step-number')) {
                        child.remove();
                        return;
                    }
                    if (child !== phoneMockup) {
                        infoCard.appendChild(child);
                    }
                });

                layout.appendChild(phoneMockup);
                layout.appendChild(infoCard);
                stepCard.appendChild(layout);
                stepCard.classList.add('step-card-split');
            });
        }

        function setupProgressSegments() {
            const progressTrack = document.querySelector('.progress-bar');
            if (!progressTrack) {
                return;
            }
            progressTrack.style.setProperty('--segments', String(totalSteps + 1));
        }

        function placeNavigation(stepIndex) {
            const navigation = document.getElementById('courseNavigation');
            const stepCard = document.getElementById('step' + stepIndex);
            if (!navigation || !stepCard) {
                return;
            }

            const infoCard = stepCard.querySelector('.step-info-card');
            const targetContainer = infoCard || stepCard;
            targetContainer.appendChild(navigation);
        }

        function showStep(stepIndex) {
            document.querySelectorAll('.step-card').forEach(step => step.style.display = 'none');
            const step = document.getElementById('step' + stepIndex);
            if (step) {
                step.style.display = 'block';
                placeNavigation(stepIndex);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
            
            document.getElementById('prevBtn').disabled = stepIndex === 0;
            document.getElementById('nextBtn').textContent = stepIndex === totalSteps ? '–ó–∞–≤–µ—Ä—à–µ–Ω–æ' : '–î–∞–ª–µ–µ';
            document.getElementById('currentStep').textContent = stepIndex + 1;
            
            const progress = ((stepIndex + 1) / (totalSteps + 1)) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            taskCompleted = (stepIndex === 0);
            updateNextButton();
        }

        function updateNextButton() {
            document.getElementById('nextBtn').disabled = !taskCompleted;
        }

        function changeStep(direction) {
            currentStep += direction;
            if (currentStep < 0) currentStep = 0;
            if (currentStep > totalSteps) {
                alert('–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –ì–æ—Å—É—Å–ª—É–≥–∞—Ö!');
                currentStep = totalSteps;
            }
            showStep(currentStep);
        }

        // –®–∞–≥ 1
        document.addEventListener('click', (e) => {
            if (e.target.id === 'otherWayBtn' && currentStep === 1) {
                taskCompleted = true;
                updateNextButton();
            }
        });

        // –®–∞–≥ 2
        document.addEventListener('click', (e) => {
            if (e.target.id === 'continueBtn1' && currentStep === 2) {
                const lastName = document.getElementById('lastName')?.value.trim() || '';
                const firstName = document.getElementById('firstName')?.value.trim() || '';
                const email = document.getElementById('email')?.value.trim() || '';
                const phoneInput = document.getElementById('phone');
                const formattedPhone = formatRussianMobilePhone(phoneInput?.value || '');

                if (!lastName || !firstName || !email) {
                    alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
                    return;
                }

                if (!formattedPhone) {
                    alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –º–æ–±–∏–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –≤ —Ñ–æ—Ä–º–∞—Ç–µ +7XXXXXXXXXX.');
                    return;
                }

                registeredPhone = formattedPhone;
                if (phoneInput) {
                    phoneInput.value = formattedPhone;
                }
                updateSmsTargetPhone(registeredPhone);

                taskCompleted = true;
                updateNextButton();
            }
        });

        // –®–∞–≥ 3
        document.addEventListener('click', (e) => {
            if (e.target.id === 'continueBtn2' && currentStep === 3) {
                const code = document.getElementById('captchaCode')?.value;
                if (code && code.length > 0) {
                    taskCompleted = true;
                    updateNextButton();
                } else {
                    alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏!');
                }
            }
        });

        // –®–∞–≥ 4
        document.addEventListener('input', (e) => {
            if (e.target.id === 'smsCode' && currentStep === 4) {
                const code = e.target.value;
                if (code.length >= 4) {
                    setTimeout(() => {
                        taskCompleted = true;
                        updateNextButton();
                    }, 1000);
                }
            }
        });

        // –®–∞–≥ 5
        document.addEventListener('click', (e) => {
            if (e.target.id === 'continueBtn3' && currentStep === 5) {
                const pwd1 = document.getElementById('password')?.value;
                const pwd2 = document.getElementById('password2')?.value;
                if (pwd1 && pwd2 && pwd1.length >= 5) {
                    taskCompleted = true;
                    updateNextButton();
                } else {
                    alert('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 5 —Å–∏–º–≤–æ–ª–æ–≤)!');
                }
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            prepareSplitStepLayout();
            setupProgressSegments();
            updateSmsTargetPhone(registeredPhone);
            showStep(0);
        });
    </script>
  </div>
</div>

